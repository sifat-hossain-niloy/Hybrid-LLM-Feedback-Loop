=== LLM PROMPT (Solution Generation) ===
Attempt: 1
Timestamp: 2025-11-24T06:18:39
Model: gpt-5
Workflow: gpt5_groq

====================================================================

You are a competitive programming expert.

**Problem: 2049_B**

Cats are attracted to pspspsps, but Evirir, being a dignified dragon, is only attracted to pspspsps with oddly specific requirements...Given a string s = s_1s_2... s_n of length n consisting of characters p, s, and . (dot), determine whether a permutation^{\text{∗}} p of length n exists, such that for all integers i (1 ≤ i ≤ n): If s_i is p, then [p_1, p_2, ..., p_i] forms a permutation (of length i); If s_i is s, then [p_i, p_{i+1}, ..., p_{n}] forms a permutation (of length n-i+1); If s_i is ., then there is no additional restriction. ^{\text{∗}}A permutation of length n is an array consisting of n distinct integers from 1 to n in arbitrary order. For example, [2,3,1,5,4] is a permutation, but [1,2,2] is not a permutation (2 appears twice in the array), and [1,3,4] is also not a permutation (n=3 but there is 4 in the array).

**Task:** Please provide a well-structured and optimized C++ solution.
