=== LLM PROMPT (Solution Generation) ===
Attempt: 3
Timestamp: 2025-11-25T04:17:29
Model: gpt-4
Workflow: gpt4_mistral

====================================================================

You are a competitive programming expert.

**Problem: 2125_D**

There is a linear strip divided into m cells, numbered from 1 to m from left to right.You are given n segments. Each segment is defined by four numbers: l, r, p and q — the segment covers cells from l to r inclusively and exists with probability \frac{p}{q} (independently).Your task is to calculate the probability that each cell is covered by exactly one segment.

**Previous Attempt Failed:** Wrong answer on test 8

**Task:** Please provide a corrected solution addressing the identified issues.
