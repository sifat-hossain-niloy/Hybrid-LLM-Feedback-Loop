=== LLM PROMPT (Solution Generation) ===
Attempt: 1
Timestamp: 2025-11-22T15:50:12
Model: gpt-4
Workflow: gpt4_groq

====================================================================

You are a competitive programming expert.

**Problem: 2044_E**

Wave is given five integers k, l_1, r_1, l_2, and r_2. Wave wants you to help her count the number of ordered pairs (x, y) such that all of the following are satisfied: l_1 ≤q x ≤q r_1. l_2 ≤q y ≤q r_2. There exists a non-negative integer n such that \frac{y}{x} = k^n.

**Task:** Please provide a well-structured and optimized C++ solution.
