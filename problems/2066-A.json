{
    "statement": "This is an interactive problem.\nYou are given an array\nğ‘¥\n1\n,â€¦,\nğ‘¥\nğ‘›\nof integers from\n1\nto\nğ‘›\n. The jury also has a fixed but hidden array\nğ‘¦\n1\n,â€¦,\nğ‘¦\nğ‘›\nof integers from\n1\nto\nğ‘›\n. The elements of array\nğ‘¦\nare unknown to you. Additionally, it is known that for all\nğ‘–\n,\nğ‘¥\nğ‘–\nâ‰ \nğ‘¦\nğ‘–\n, and all pairs\n(\nğ‘¥\nğ‘–\n,\nğ‘¦\nğ‘–\n)\nare distinct.\nThe jury has secretly thought of one of two objects, and you need to determine which one it is:\nObject A: A directed graph with\nğ‘›\nvertices numbered from\n1\nto\nğ‘›\n, and with\nğ‘›\nedges of the form\nğ‘¥\nğ‘–\nâ†’\nğ‘¦\nğ‘–\n.\nObject B:\nğ‘›\npoints on a coordinate plane. The\nğ‘–\n-th point has coordinates\n(\nğ‘¥\nğ‘–\n,\nğ‘¦\nğ‘–\n)\n.\nTo guess which object the jury has thought of, you can make queries. In one query, you must specify two numbers\nğ‘–,ğ‘—\n(1â‰¤ğ‘–,ğ‘—â‰¤ğ‘›,ğ‘–â‰ ğ‘—)\n. In response, you receive one number:\nIf the jury has thought of Object A, you receive the length of the shortest path (in edges) from vertex\nğ‘–\nto vertex\nğ‘—\nin the graph, or\n0\nif there is no path.\nIf the jury has thought of Object B, you receive the Manhattan distance between points\nğ‘–\nand\nğ‘—\n, that is\n|\nğ‘¥\nğ‘–\nâˆ’\nğ‘¥\nğ‘—\n|+|\nğ‘¦\nğ‘–\nâˆ’\nğ‘¦\nğ‘—\n|\n.\nYou have\n2\nqueries to determine which of the objects the jury has thought of.",
    "input_specification": "Each test contains multiple test cases. The first line contains the number of test cases\nğ‘¡\n(\n1â‰¤ğ‘¡â‰¤1000\n). The description of the test cases follows.",
    "output_specification": "The interaction begins with reading\nğ‘›\n(\n3â‰¤ğ‘›â‰¤2â‹…\n10\n5\n) â€” the length of the arrays\nğ‘¥\nand\nğ‘¦\nat the start of each test case.\nNext, read\nğ‘›\nintegers:\nğ‘¥\n1\n,\nğ‘¥\n2\n,â€¦,\nğ‘¥\nğ‘›\n(\n1â‰¤\nğ‘¥\nğ‘–\nâ‰¤ğ‘›\n) â€” the elements of array\nğ‘¥\n.\nIt is guaranteed that the sum of\nğ‘›\nacross all test cases does not exceed\n2â‹…\n10\n5\n.\nThe array\nğ‘¦\n1\n,\nğ‘¦\n2\n,â€¦,\nğ‘¦\nğ‘›\nis fixed for each test case. In other words, the interactor is not adaptive.\nIt is guaranteed that\nğ‘¥\nğ‘–\nâ‰ \nğ‘¦\nğ‘–\nfor all\n1â‰¤ğ‘–â‰¤ğ‘›\n, and all pairs\n(\nğ‘¥\nğ‘–\n,\nğ‘¦\nğ‘–\n)\nare distinct.\nTo make a query, output \"?\nğ‘–\nğ‘—\n\" (without quotes,\n1â‰¤ğ‘–,ğ‘—â‰¤ğ‘›,ğ‘–â‰ ğ‘—\n). Then you must read the response to the query, which is a non-negative integer.\nTo give an answer, output \"! A\" if Object A is hidden or \"! B\" if Object B is hidden (without quotes). Note that printing the answer does not count as one of the\n2\nqueries.\nAfter printing each query do not forget to output the end of line and flush\nâˆ—\nthe output. Otherwise, you will get Idleness limit exceeded verdict. If, at any interaction step, you read\nâˆ’1\ninstead of valid data, your solution must exit immediately. This means that your solution will reveive Wrong answer because of an invalid query or any other mistake. Failing to exit can result in an arbitrary verdict because your solution will continue to read from a closed stream. Note that if the query is correct, the response will never be\nâˆ’1\n.\nHacks\nThe first line must contain an integer\nğ‘¡\n(\n1â‰¤ğ‘¡â‰¤1000\n) â€” the number of test cases.\nThe first line of each test case must contain an integer\nğ‘›\n(\n3â‰¤ğ‘›â‰¤2â‹…\n10\n5\n) â€” the length of the hidden array.\nThe second line of each test case must contain\nğ‘›\nintegers â€”\nğ‘¥\n1\n,\nğ‘¥\n2\n,â€¦,\nğ‘¥\nğ‘›\n(\n1â‰¤\nğ‘¥\nğ‘–\nâ‰¤ğ‘›\n).\nThe third line of each test case must contain\nğ‘›\nintegers â€”\nğ‘¦\n1\n,\nğ‘¦\n2\n,â€¦,\nğ‘¦\nğ‘›\n(\n1â‰¤\nğ‘¦\nğ‘–\nâ‰¤ğ‘›\n).\nIt must be ensured that\nğ‘¥\nğ‘–\nâ‰ \nğ‘¦\nğ‘–\nfor all\n1â‰¤ğ‘–â‰¤ğ‘›\n, and all pairs\n(\nğ‘¥\nğ‘–\n,\nğ‘¦\nğ‘–\n)\nmust be distinct.\nThe fourth line must contain one character: A or B, indicating which of the objects you want to hide.\nThe sum of\nğ‘›\nacross all test cases must not exceed\n2â‹…\n10\n5\n.\nâˆ—\nTo flush, use:",
    "sample_tests": [
        {
            "input": "2\n3\n2 2 3\n\n1\n\n0\n\n5\n5 1 4 2 3\n\n4\n\n4",
            "output": "? 2 3\n\n? 1 2\n\n! A\n\n? 1 5\n\n? 5 1\n\n! B"
        }
    ],
    "note": "In the first test case,\nğ‘¥=[2,2,3]\n,\nğ‘¦=[1,3,1]\nand Object A is guessed.\nIn the second test case,\nğ‘¥=[5,1,4,2,3]\n,\nğ‘¦=[3,3,2,4,1]\nand Object B is guessed.",
    "tags": [
        "graphs",
        "greedy",
        "implementation",
        "interactive"
    ],
    "rating": "1400"
}