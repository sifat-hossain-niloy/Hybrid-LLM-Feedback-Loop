{
    "statement": "In the world of Deepwoken, there exists an ancient artifact â€” Tablet of Infinite Knowledge, on which a sequence of n mysterious symbols (each symbol is an integer) is engraved.It is said that the true power of the artifact can only be revealed by finding all sacred fragments â€” continuous segments of the tablet that contain exactly k distinct numbers, and their length must be between l and r (inclusive).Formally: Given a sequence a of length n and integers k, l, r. You need to find the number of such boundaries b and c such that: 1 â‰¤ b â‰¤ c â‰¤ n; among the elements [a_{b}, a_{b + 1}, ..., a_{c}] there are exactly k distinct numbers; l â‰¤q c - b + 1 â‰¤q r.",
    "input_specification": "InputEach test consists of several test cases.The first line contains one integer t (1 â‰¤ t â‰¤ 10^4) â€” the number of test cases.The following describes the test cases.The first line of each test case contains four integers: n, k, l, and r ( 1 â‰¤ k â‰¤ n â‰¤ 2 Â· 10^5, 1 â‰¤ l â‰¤ r â‰¤ n).The second line contains n numbers a_i (1 â‰¤ a_i â‰¤ 10^9) â€” the mysterious symbols.It is guaranteed that the total value of n over all test cases does not exceed 2 Â· 10^5.",
    "output_specification": "OutputFor each test, output a single integer on a separate line â€” the number of continuous subarrays that meet the specified conditions.",
    "sample_tests": [
        {
            "input": "5\n1 1 1 1\n5\n5 2 2 3\n1 2 1 3 2\n6 3 1 6\n1 2 3 1 2 3\n4 1 1 2\n7 7 7 7\n7 3 2 4\n1 2 1 2 3 2 1",
            "output": "1\n5\n10\n7\n5"
        }
    ],
    "note": "In the first test case\nğ‘=[5]\n, there is only one subarray\n[5]\n, which has a length of 1 and contains exactly\n1\ndistinct number.\nIn the fourth test case\nğ‘=[7,7,7,7]\n, any subarray of identical numbers gives exactly\n1\ndistinct number. The start and end of possible subarrays are:\nIn the fifth test case\nğ‘=[1,2,1,2,3,2,1]\n:",
    "tags": [
        "data structures",
        "two pointers"
    ],
    "rating": "1500"
}